<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="”keywords”" content="" />
    <title>모두의탱고 태크닉</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link href="css/main.css" rel="stylesheet" />
    <meta property="og:title" content="모두의탱고" />
    <meta property="og:description" content="20대 탱고" />
    <meta property="og:image" content="" />
    <meta name="theme-color" content="#ffffff" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  </head>

  <body id="lbody">
    <main>
      <button class = "startbtn" 
      type = "button"
      onclick="pomoStart(); this.onclick='';">시작</button>
      
      <div class="">
        <div class="timer"></div>
        <div>
          <!-- <img src="images/fly-logo-front.png" class="f-logo"> -->
        </div>
        <div class="technic-container">
          <div class="technik-wrapper">
            <div class="group-technic">
              <img src="images/modotango-logo-v12.png" class="f-logo">
            </div>

            <div class="group-technic">
                <!-- <source src="/video/legpress.mp4" type="video/mp4" id="t1s"/> -->
              <div class="technic-cell" id="t1"><h2>6살리다</h2></div>
            </div>
            <div class="group-technic">
                <!-- <source src="/video/cross-step.mp4" type="video/mp4" id="t2s" /> -->
              <div class="technic-cell" id="t2"><h2>피봇</h2></div>
            </div>
            <div class="group-technic">
                <!-- <source src="/video/open-lapiz.MP4" type="video/mp4" id="t3s" /> -->
              <div class="technic-cell" id="t3"><h2>크로스 스텝</h2></div>
            </div>
            <div class="group-technic">
                <!-- <source src="/video/find-center.MP4" type="video/mp4" id="t4s" /> -->
              <div class="technic-cell" id="t4"><h2>크로스 변형</h2></div>
            </div>
            <div class="group-technic">
              <!-- <source src="/video/leg-stratch.MP4" type="video/mp4" id="t5s" /> -->
              <div class="technic-cell" id="t5"><h2>백 오초</h2></div>
            </div>
            <div class="group-technic">
              <!-- <source src="/video/flow-step-up-down.MP4" type="video/mp4" id="t6s" /> -->
              <div class="technic-cell" id="t6"><h2>프런트 오초</h2></div>
            </div>
            
          </div>
            <div class="video-wrapper">
              <div class="videoscroll">
                <div class="swiper mySwiper">
                  <div class="swiper-wrapper">
                    <div class="swiper-slide">
                      <div class="embed-responsive embed-responsive-16by9 ytvideobox">
                        <div id="player1"></div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <div class="embed-responsive embed-responsive-16by9 ytvideobox">
                        <div id="player2"></div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <div class="embed-responsive embed-responsive-16by9 ytvideobox">
                        <div id="player3"></div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <div class="embed-responsive embed-responsive-16by9 ytvideobox">
                        <div id="player4"></div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <div class="embed-responsive embed-responsive-16by9 ytvideobox">
                        <div id="player5"></div>
                      </div>
                    </div>
                    <div class="swiper-slide">
                      <div class="embed-responsive embed-responsive-16by9 ytvideobox">
                        <div id="player6"></div>
                      </div>
                    </div>
                  </div>
                  <div class="swiper-pagination"></div>
                </div>
                
                
              </div>

              <!-- <video controls autoplay muted loop  id="mainv">
                <source src="/video/legpress.mp4" type="video/mp4" id="mainsource" />
              </video> -->
            </div>
        </div>

      </div>
    </main>
   
    <script>
      var tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player1, player2, player3, player4, player5, player6;
      var player1VideoId, player2VideoId, player3VideoId, player4VideoId, player5VideoId, player6VideoId;
  

      function onYouTubeIframeAPIReady() {
        player1VideoId = 'WJpVNHtnuxE';
        player2VideoId = 'JnAKkkRekOU'
        player3VideoId = 'SY57c2aftu8';
        player4VideoId = 'weRpILBuFCY';
        player5VideoId = 'gOqkKJWhGL4';
        player6VideoId = 'TKSrU0uqxCM';
  
  
        player1 = new YT.Player('player1', {
          width: '1600',
          height: '900',
          videoId: player1VideoId,
          playerVars: {
            // autoplay: true, // 자동 재생 유무
            loop: true,     // 반복 재생 유무
            // playlist: 'EJF919p_hb0',
            // start: 0,
            // end: 35
          },
          events: {
            'onReady': function(event){
              event.target.mute();  // 음소거
              // event.target.playVideo();   // 반대 역할 : stopVideo();
            },
            'onStateChange': onPlayerStateChange
          }
          // events: {
          //   'onStateChange': onPlayerReady
          // }
        });
        
        player2 = new YT.Player('player2', {
          width: '1600',
          height: '900',
          videoId: player2VideoId,
          events: {
            'onReady': function(event){
              event.target.mute();  // 음소거
              // event.target.playVideo();   // 반대 역할 : stopVideo();
            },
            'onStateChange': onPlayerStateChange
          }
          // events: {
          //   'onStateChange': onPlayerReady
          // }
        });
        player3 = new YT.Player('player3', {
          width: '1600',
          height: '900',
          videoId: player3VideoId,
          events: {
            'onReady': function(event){
              event.target.mute();  // 음소거
              // event.target.playVideo();   // 반대 역할 : stopVideo();
            },
            'onStateChange': onPlayerStateChange
          }
          // events: {
          //   'onStateChange': onPlayerReady
          // }
        });
        player4 = new YT.Player('player4', {
          width: '1600',
          height: '900',
          videoId: player4VideoId,
          events: {
            'onReady': function(event){
              event.target.mute();  // 음소거
              // event.target.playVideo();   // 반대 역할 : stopVideo();
            },
            'onStateChange': onPlayerStateChange
          }
          // events: {
          //   'onStateChange': onPlayerReady
          // }
        });
        player5 = new YT.Player('player5', {
          width: '1600',
          height: '900',
          videoId: player5VideoId,
          events: {
            'onReady': function(event){
              event.target.mute();  // 음소거
              // event.target.playVideo();   // 반대 역할 : stopVideo();
            },
            'onStateChange': onPlayerStateChange
          }
          // events: {
          //   'onStateChange': onPlayerReady
          // }
        });
        player6 = new YT.Player('player6', {
          width: '1600',
          height: '900',
          videoId: player6VideoId,
          events: {
            'onReady': function(event){
              event.target.mute();  // 음소거
              // event.target.playVideo();   // 반대 역할 : stopVideo();
            },
            'onStateChange': onPlayerStateChange
          }
          // events: {
          //   'onStateChange': onPlayerReady
          // }
        });
        function onPlayerStateChange(event) {
          if (event.data == YT.PlayerState.ENDED) {
            event.target.playVideo();
          }
        }
        // function onPlayerReady(event) {
        //   console.log("dd")
        // //로딩된 후에 실행될 동작을 작성한다(소리 크기,동영상 속도를 미리 지정하는 것등등...)
        //   event.target.playVideo();//자동재생
        
        // }


  
        // playerSecure = new YT.Player('playerSecure', {
        //   videoId: playerSecureVideoId,
        //   events: {
        //     'onStateChange': onPlayerStateChangeplayerSecure
        //   }
        // });
       
        // playerTee = new YT.Player('playerTee', {
        //   videoId: playerTeeVideoId,
        //   events: {
        //     'onStateChange': onPlayerStateChangeplayerTee
        //   }
        // });
       
        // playerCerti = new YT.Player('playerCerti', {
        //   videoId: playerCertiVideoId,
        //   events: {
        //     'onStateChange': onPlayerStateChangeplayerCerti  
        //   }
        // });
  
  
        // playerServer = new YT.Player('playerServer', {
        //   videoId: playerServerVideoId,
        //   events: {
        //     'onStateChange': onPlayerStateChangeplayerServer
        //   }
        // });
  
      }
  
      // function onPlayerStateChange(event) {
      //   // if (event.data == YT.PlayerState.ENDED) {
      //   //   setTimeout(stopVideo, 300);
      //   // }
      // }
  
      // function stopVideo() {
      //   player1.stopVideo();
      // }
  
      // function onPlayerStateChangeplayerSecure(event) {
      //   if (event.data == YT.PlayerState.ENDED) {
      //     setTimeout(stopVideoplayerSecure, 300);
      //   }
      // }
      // function stopVideoplayerSecure() {
      //   playerSecure.stopVideo();
      //   $('#movModalSecure').modal('hide');
      // }
  
      // function onPlayerStateChangeplayerTee(event) {
      //   if (event.data == YT.PlayerState.ENDED) {
      //     setTimeout(stopVideoplayerTee, 300);
      //   }
      // }
      // function stopVideoplayerTee() {
      //   playerTee.stopVideo();
      //   $('#movModalTee').modal('hide');
      // }
      // function onPlayerStateChangeplayerCerti(event) {
      //   if (event.data == YT.PlayerState.ENDED) {
      //     setTimeout(stopVideoplayerCerti, 300);
      //   }
      // }
      // function stopVideoplayerCerti() {
      //   playerCerti.stopVideo();
      //   $('#movModalCerti').modal('hide');
      // }
      // function onPlayerStateChangeplayerServer(event) {
      //   if (event.data == YT.PlayerState.ENDED) {
      //     setTimeout(stopVideoplayerServer, 300);
      //   }
      // }
      // function stopVideoplayerServer() {
      //   playerServer.stopVideo();
      //   $('#movModalServer').modal('hide');
      // }
  
    </script>
    <script>
      //  document.addEventListener('DOMContentLoaded', function() {
      // });
      // document.addEventListener('DOMContentLoaded', function() {
      //   $('#movModalDevice').on('shown.bs.modal', function (event) {
      //     playerDice.playVideo();
      //   });
      //   $('#movModalDevice').on('hide.bs.modal', function (event) {
      //     playerDice.pauseVideo();
      //   });
      //   $('#movModalSecure').on('shown.bs.modal', function (event) {
      //     playerSecure.playVideo();
      //   });
      //   $('#movModalSecure').on('hide.bs.modal', function (event) {
      //     playerSecure.pauseVideo();
      //   });
      //   $('#movModalTee').on('shown.bs.modal', function (event) {
      //     playerTee.playVideo();
      //   });
      //   $('#movModalTee').on('hide.bs.modal', function (event) {
      //     playerTee.pauseVideo();
      //   });
        
      //   $('#movModalCerti').on('shown.bs.modal', function (event) {
      //     playerCerti.playVideo();
      //   });
      //   $('#movModalCerti').on('hide.bs.modal', function (event) {
      //     playerCerti.pauseVideo();
      //   });
       
      //   $('#movModalServer').on('shown.bs.modal', function (event) {
      //     playerServer.playVideo();
      //   });
      //   $('#movModalServer').on('hide.bs.modal', function (event) {
      //     playerServer.pauseVideo();
      //   });
      
      // });
  
    </script>
     <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

    <!-- Initialize Swiper -->
    <script>
      var swiper = new Swiper(".mySwiper", {
        direction: "vertical",
        height: 900,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
      });
    </script>
    <script>
      const pomoBtn = document.querySelector(".btn");
      const timer = document.querySelector(".timer");
      var allTrainingCell = document.querySelectorAll(".technic-cell");
      var mainvideo = document.querySelector("#mainv");
      var nowTraninCell =  document.querySelector("#t1");
      var nextProgramCell =  document.querySelector("#t2");

      let categoryText;
      let pomoInterval;
      let restInterval;
      // let pomoTime = 1500;
      let pomoTime = 10;
      let restTime = 5;
      // let restTime = 300;

      // var trainingsProd = [["traning", 180, "#t1"], ["rest", 15, "r"], ["traning", 180, "#t2"], ["rest", 20, "r"], ["traning", 180, "#t3"], ["rest", 15, "r"], ["traning", 180, "#t4"], ["rest", 20, "r"], ["traning", 180, "#t5"], ["rest", 15, "r"], ["traning", 180, "#t6"], ["rest", 60, "r"], ["traning", 180, "#t7"], ["rest", 15, "r"], ["traning", 180, "#t8"], ["rest", 20, "r"], ["traning", 180, "#t9"], ["rest", 15, "r"], ["traning", 180, "#t10"], ["rest", 20, "r"], ["traning", 180, "#t11"], ["rest", 15, "r"], ["traning", 180, "#t12"] ];
      // var trainings = [["t", 180, "t1"], ["r", 10, "r"], ["t", 180, "t3"]];
      // var trainings = [["traning", 10, "#t1"], ["rest", 5, "#t2"], ["traning", 7, "#t2"], ["rest", 5, "#t3"], ["traning", 7, "#t3"], ["rest", 5, "#t4"], ["traning", 7, "#t4"], ["rest", 5, "#t5"], ["traning", 7, "#t5"], ["rest", 5, "#t6"], ["traning", 7, "#t6"]];
      // var trainings = [["traning", 360, "#t1"], ["rest", 60, "#t2"], ["traning", 360, "#t2"], ["rest", 60, "#t3"], ["traning", 360, "#t3"], ["rest", 60, "#t4"], ["traning", 360, "#t4"], ["rest", 60, "#t5"], ["traning", 360, "#t5"], ["rest", 60, "#t6"], ["traning", 360, "#t6"]];
      // var trainings = [["traning", 1, "player1"], ["rest", 60, "player2"], ["traning", 360, "player2"], ["rest", 60, "player3"], ["traning", 360, "player3"], ["rest", 60, "player4"], ["traning", 360, "player4"], ["rest", 60, "player5"], ["traning", 360, "player5"], ["rest", 60, "player6"], ["traning", 360, "player6"]];
    //   var trainings = [["traning", 3, "#t1"], ["rest", 3, "#t2"], ["traning", 3, "#t2"], ["rest", 3, "#t3"], ["traning", 3, "#t3"], ["rest", 3, "#t4"], ["traning", 3, "#t4"], ["rest", 5, "#t5"], ["traning", 7, "#t5"], ["rest", 5, "#t6"], ["traning", 7, "#t6"]];
      var trainings = [["traning", 360, "#t1"], ["rest", 60, "#t2"], ["traning", 360, "#t2"], ["rest", 60, "#t3"], ["traning", 360, "#t3"], ["rest",60, "#t4"], ["traning", 360, "#t4"], ["rest", 60, "#t5"], ["traning", 360, "#t5"], ["rest", 60, "#t6"], ["traning", 360, "#t6"]];

      var nowTraingTime = trainings[0][1];
      var totalStep = trainings.length;
      var nowStep = 0;
      var nowStatus = "traning";
      var nowProgram = "#t1";
      var nextProgram = "#t2";

      // mainvideo.pause();
      // mainsource.setAttribute('src', nowsource);
      // mainvideo.load();


      function pomoStart() {
        nowTraninCell = document.querySelector(nowProgram);
        nowTraninCell.classList.add("now")
        timer.classList.add(trainings[0][0]);
        timer.innerHTML = "Go!";
        player1.playVideo();

        setTimeout(function(){
          pomodoro();
          pomoInterval = setInterval(pomodoro, 1000);
        }, 1000);

      }
      
      function pomodoro() {
        // const minutes = String(Math.floor(pomoTime / 60)).padStart(2, "0");
        // const seconds = String(pomoTime % 60).padStart(2, "0");
        // nowTraingTime = trainings[0][1];
        const minutes = String(Math.floor(nowTraingTime / 60)).padStart(2, "0");
        const seconds = String(nowTraingTime % 60).padStart(2, "0");


        // pomoTime -= 1;
        nowTraingTime -= 1;

        timer.innerHTML = `${minutes} : ${seconds}`;

        if (nowTraingTime < 0) {
                            clearInterval(pomoInterval);
                            nowStep += 1;
                            console.log(totalStep, "&&",nowStep);
                            if(totalStep > nowStep) {
                              nowTraingTime = trainings[nowStep][1];
                              nowStatus = trainings[nowStep][0];
                              nowProgram = trainings[nowStep][2];
                            } else {
                              return;
                            }
                           
                            if(totalStep > nowStep+1) {
                              nextProgram = trainings[nowStep+1][2];
                            }

                            timer.classList.remove("traning");
                            timer.classList.remove("rest");
                            timer.classList.add(nowStatus);
                            
                            for ( var i = 0; i < allTrainingCell.length; i++ ) {
                              allTrainingCell[i].classList.remove("now");
                            }
                            if (nowStatus != "rest") {
                              nowTraninCell = document.querySelector(nowProgram);
                              nowTraninCell.classList.add("now");
                              for ( var i = 0; i < allTrainingCell.length; i++ ) {
                                allTrainingCell[i].classList.remove("next");
                              }
                            } else {
                              nowTraninCell = null;
                              if (totalStep == nowStep) {

                              } else {
                                nextProgramCell = document.querySelector(nextProgram);
                                nextProgramCell.classList.add("next");
                              }
                            }
                            console.log("end", totalStep == nowStep);

                            if (totalStep == nowStep) {
                              console.log("끝");
                            } else {
                              restStart(nowStatus, nowProgram);
                            }
                            
                            
                            // beep();
        }
      }
      
      function restStart(nowStatus, nowProgram) {
        console.log(nowProgram);
        
        if (nowStatus == "traning") {
          timer.innerHTML = "Go!";
          swiper.slideNext();

        } else {
          timer.innerHTML = "휴식";
          if(nowProgram == "#t1") {
            player1.playVideo();
          } else if (nowProgram == "#t2") {
            player1.stopVideo();
            player2.playVideo();

          } else if (nowProgram == "#t3") {
            player2.stopVideo();
            player3.playVideo();

          } else if (nowProgram == "#t4") {
            player3.stopVideo();
            player4.playVideo();

          } else if (nowProgram == "#t5") {
            player4.stopVideo();
            player5.playVideo();

          } else if (nowProgram == "#t6") {
            player5.stopVideo();
            player6.playVideo();

          }          
          // nowsource = document.querySelector(nowProgram+"s").getAttribute('src');
          // mainvideo.pause();
          // mainsource.setAttribute('src', nowsource);
          // mainvideo.load();
        }
        setTimeout(function(){
          pomoInterval = setInterval(pomodoro, 1000);
        }, 1000);

        // restInterval = setInterval(restStart, 1000);
        // const restMinutes = String(Math.floor(restTime / 60)).padStart(2, "0");
        // const restSeconds = String(restTime % 60).padStart(2, "0");
        // restTime -= 1;
        // timer.innerHTML = `${restMinutes} : ${restSeconds}`;
        // if (restTime < 5 && restTime >= 0) {
        //                                     // beep();
        // } else if (restTime < 0) {
        //                           clearInterval(restInterval);
        //                           // window.location.reload(true);
        // }
      }
      
      // function beep() { 
      // const snd = new Audio("https://t1.daumcdn.net/cfile/tistory/99412B355CF6B93806?original");
      //       snd.play(); 
      // } 



    </script>

    <script>
      // var vid1 = document.getElementById("video1");
      // var vid2 = document.getElementById("video2");
      // var centerText = document.querySelector(".center-text");
      // var videoWrapper = document.getElementById("videoWrapper");
      // var messageWrapper = document.getElementById("messageWrapper");
      // var aa = document.getElementById("aa");
      // var randomColor = ["#e55039", "#4a69bd", "#60a3bc"];
      // var rand_0_6 = 0;
      // var rand_0_1_text = 0;
      // var tagnoWordings = document.querySelectorAll(".tagno-wording");
      // vid2.style.display = "none";

      // function middle() {
      //   videoWrapper.style.display = "none";
      //   rand_0_1_text = Math.floor(Math.random() * 5);
      //   for (var i = 0; i < tagnoWordings.length; i++) {
      //     tagnoWordings[i].style.display = "none";
      //     if (rand_0_1_text == i) {
      //       tagnoWordings[i].style.display = "block"; //클래스 값이 abc인 모든 요소를 빨간색으로 변경
      //     }
      //   }
      //   messageWrapper.style.display = "block";
      //   rand_0_6 = Math.floor(Math.random() * 3);
      // }

      // function last() {
      //   centerText.style.backgroundColor = randomColor[rand_0_6];
      //   videoWrapper.style.display = "block";
      //   messageWrapper.style.display = "none";
      //   aa.classList.remove("animate__jello");
      //   aa.classList.remove("animate__repeat-3");
      // }

      // vid1.onended = function () {
      //   vid1.style.display = "none";
      //   middle();
      //   setTimeout(function () {
      //     last();
      //     vid2.play();
      //     vid2.style.display = "block";
      //   }, 10000);
      // };
      // vid2.onended = function () {
      //   vid2.style.display = "none";
      //   middle();
      //   setTimeout(function () {
      //     last();
      //     vid1.play();
      //     vid1.style.display = "block";
      //   }, 10000);
      // };
    </script>
  </body>
</html>
